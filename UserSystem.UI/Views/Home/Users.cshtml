@model ServiceContract.ViewModels.UsersViewModel

@{
    ViewBag.Title = "Пользователи";
}

<h2>Пользователи</h2>

<div class="panel panel-default" style="margin-top:20px;">
    <!-- Default panel contents -->
    <div class="panel-heading">Пользователи</div>

    <!-- Table -->
    <table class="table">
        <thead>
            <tr>
                <th scope="col">Login</th>
                <th scope="col">Имя</th>
                <th scope="col">Фамилия</th>
                <th scope="col">Passport</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var user in Model.Users)
            {
                <tr>
                    <th scope="row">@user.Login</th>
                    <td>@user.FirstName</td>
                    <td>@user.LastName</td>
                    <td>@user.Passport</td>
                </tr>
            }
        </tbody>
    </table>
</div>

<nav aria-label="Page navigation">
    <ul class="pagination">
        <li>
            @{
                var prev = Model.Index - 1;
                prev = prev < 0 ? 0 : prev;
            }
            <a href="/Home/Users?index=@prev" aria-label="Previous">
                <span aria-hidden="true">&laquo;</span>
            </a>
        </li>
        @{
            var count = Model.Count / 10;
            if (count >= 5)
            {
                count = 5;
            }
        }
        @for (int i = 0; i <= count; i++)
        {
            var index = i + 1;
            <li><a href="/Home/Users?index=@i">@index</a></li>
        }
        <li>
            @{
                var next = Model.Index + 1;
                next = next > count ? count : next;
            }
            <a href="/Home/Users?index=@next" aria-label="Next">
                <span aria-hidden="true">&raquo;</span>
            </a>
        </li>
    </ul>
</nav>